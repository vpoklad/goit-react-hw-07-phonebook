(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),o=a.n(c),i=a(19),s=(a(95),a(96),a(53)),d=a(11),l=a(142),u=a(72),j=a.n(u),b=a(35),p=a.n(b),m=a(75),h=a(15),O=a(71),f=a(23),x=Object(O.a)({reducerPath:"phoneBookApi",baseQuery:Object(f.d)({baseUrl:"https://6193696ed3ae6d0017da854a.mockapi.io/"}),tagTypes:["Contacts"],endpoints:function(e){return{getContacts:e.query({query:function(){return"contacts"},providesTags:function(e){return e?[].concat(Object(h.a)(e.map((function(e){return{type:"Contacts",id:e.id}}))),[{type:"Contacts",id:"LIST"}]):[{type:"Contacts",id:"LIST"}]}}),deleteContact:e.mutation({query:function(e){return{url:"contacts/".concat(e),method:"DELETE"}},invalidatesTags:function(e,t,a){return[{type:"Contacts",id:a}]}}),addContact:e.mutation({query:function(e){return{url:"contacts",method:"POST",body:e}},invalidatesTags:[{type:"Contacts",id:"LIST"}]})}}}),v=x.useGetContactsQuery,y=x.useDeleteContactMutation,C=x.useAddContactMutation,_=a(2);function g(){var e,t,a,n,r=Object(m.a)(),c=r.register,o=r.handleSubmit,i=r.reset,u=r.formState.errors,b=v().data,h=C(),O=Object(d.a)(h,1)[0];return Object(_.jsxs)("form",{className:p.a.form,onSubmit:o((function(e){b.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?alert("this contact already exists"):(O(e),i())})),children:[Object(_.jsxs)("label",{className:p.a.label,children:["Name",Object(_.jsx)("input",Object(s.a)({type:"text",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f."},c("name",{required:!0,pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/}))),"required"===(null===u||void 0===u||null===(e=u.name)||void 0===e?void 0:e.type)&&Object(_.jsx)("p",{className:p.a.error,children:"This field is required"}),"pattern"===(null===u||void 0===u||null===(t=u.name)||void 0===t?void 0:t.type)&&Object(_.jsx)("p",{className:p.a.error,children:"Alphabetical characters only"})]}),Object(_.jsxs)("label",{className:p.a.label,children:["Phone",Object(_.jsx)("input",Object(s.a)(Object(s.a)({type:"tel"},c("phone",{required:!0,pattern:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/})),{},{title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +"})),"required"===(null===u||void 0===u||null===(a=u.number)||void 0===a?void 0:a.type)&&Object(_.jsx)("p",{className:p.a.error,children:"This field is required"}),"pattern"===(null===u||void 0===u||null===(n=u.number)||void 0===n?void 0:n.type)&&Object(_.jsx)("p",{className:p.a.error,children:"Numeric characters only"})]}),Object(_.jsx)(l.a,{variant:"contained",type:"submit",size:"small",endIcon:Object(_.jsx)(j.a,{}),children:"Add contact"})]})}var N=a(143),L=a(73),T=a.n(L),k=a(51),q=a.n(k);function w(e){var t=e.contact,a=y(),n=Object(d.a)(a,1)[0];return Object(_.jsxs)("li",{className:q.a.item,children:[Object(_.jsxs)("span",{children:[t.name,": ",Object(_.jsx)("span",{children:t.phone})]}),Object(_.jsx)(N.a,{"aria-label":"delete",id:t.id,onClick:function(){return n(t.id)},children:Object(_.jsx)(T.a,{})})]})}var A=a(63),F=a.n(A);function S(){return Object(_.jsx)("div",{className:F.a.backdrop,children:Object(_.jsx)("span",{className:F.a.loader})})}function P(){var e=Object(i.e)((function(e){return e.filter})),t=v(),a=t.data,n=t.isFetching;return Object(_.jsxs)(_.Fragment,{children:[n&&Object(_.jsx)(S,{}),Object(_.jsx)("h2",{className:q.a.title,children:"Contacts"}),a&&!n&&Object(_.jsx)("ul",{children:a.filter((function(t){return t.name.toLocaleLowerCase().includes(e.toLowerCase())})).map((function(e){return Object(_.jsx)(w,{contact:e},e.id)}))})]})}var z=a(139),E=a(7),I=Object(E.b)("filter/set");function M(){var e=Object(i.e)((function(e){return e.filter})),t=Object(i.d)();return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(z.a,{id:"standard-search",label:"Find contacts by name",type:"search",variant:"standard",value:e,onChange:function(e){return t(I(e.target.value))}})})}function B(){return Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)("h1",{className:"appTitle",children:"Phonebook"}),Object(_.jsx)(g,{}),Object(_.jsx)(M,{}),Object(_.jsx)(P,{})]})}var Q,J=a(4),Z=Object(E.d)("",Object(J.a)({},I,(function(e,t){return t.payload}))),D=Object(E.a)({reducer:(Q={},Object(J.a)(Q,x.reducerPath,x.reducer),Object(J.a)(Q,"filter",Z),Q),middleware:function(e){return e().concat(x.middleware)}});o.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(i.a,{store:D,children:Object(_.jsx)(B,{})})}),document.getElementById("root"))},35:function(e,t,a){e.exports={form:"ContactsForm_form__1v-8f",label:"ContactsForm_label__2QOgP",error:"ContactsForm_error__2Vxs0"}},51:function(e,t,a){e.exports={title:"ContactList_title__cNlMF",item:"ContactList_item__3B7v0"}},63:function(e,t,a){e.exports={backdrop:"Loader_backdrop__2EAbP",loader:"Loader_loader__3hV_h",rotation:"Loader_rotation__3Qzat"}},95:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.b81820b3.chunk.js.map